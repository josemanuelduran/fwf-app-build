{"version":3,"sources":["../../src/app/pages/valuations/valuations.component.module.ts","../../src/app/pages/valuations/valuations.component.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { ValuationsPageComponent } from './valuations.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ValuationsPageComponent,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(ValuationsPageComponent),\r\n        TranslateModule\r\n    ],\r\n})\r\nexport class ValuationsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/valuations/valuations.component.module.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { Match, Score } from '../../models';\nimport { ValuationsService, MessagesService } from '../../providers';\n\n@IonicPage({\n    name: 'ValuationsPage'\n})\n@Component({\n  selector: 'fwf-page-valuations',\n  templateUrl: 'valuations.component.html',\n})\nexport class ValuationsPageComponent implements OnInit {\n\n    match: Match;\n    scores: Score[];\n\n    constructor(\n            public navCtrl: NavController,\n            public navParams: NavParams,\n            private valuationsService: ValuationsService,\n            private messages: MessagesService\n    ) { }\n\n    ngOnInit() {\n        this.match = this.navParams.get('match');\n        this.loadScores();\n    }\n\n    private loadScores(): void {\n        this.valuationsService.fetchPlayersScores(this.match.id)\n            .subscribe(\n                data => {\n                    if (!data) {\n                        this.createNewScores();\n                    } else {\n                        this.scores = data.map(item => {\n                            return <Score>{\n                                namePlayer: item.player.name,\n                                idPlayer: item.player.id,\n                                score: ((<number>item.totalScore) / (<number>item.numVotes)),\n                                voted: item.voted,\n                            };\n                        });\n                        this.scores.sort((a, b) => {\n                            if (a.score > b.score) {\n                                return -1;\n                            } else if (a.score < b.score) {\n                                return 1;\n                            } else {\n                                return 0;\n                            }\n                        });\n                    }\n                },\n                error => this.messages.showError(error)\n            );\n    }\n\n    private createNewScores(): void {\n        this.scores = [];\n        this.match.callUp.forEach(item => {\n            let score: Score = {\n                namePlayer: item.player.name,\n                idPlayer: item.player.id\n            };\n            this.scores.push(score);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/valuations/valuations.component.ts"],"sourceRoot":""}