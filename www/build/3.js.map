{"version":3,"sources":["../../src/app/pages/valuations/valuations.component.module.ts","../../src/app/pages/valuations/valuations.component.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { ValuationsPageComponent } from './valuations.component';\n\n@NgModule({\n    declarations: [\n        ValuationsPageComponent,\n    ],\n    imports: [\n        IonicPageModule.forChild(ValuationsPageComponent),\n        TranslateModule\n    ],\n})\nexport class ValuationsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/valuations/valuations.component.module.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { Match, Score } from '../../models';\r\nimport { ValuationsService, MessagesService } from '../../providers';\r\n\r\n@IonicPage({\r\n    name: 'ValuationsPage'\r\n})\r\n@Component({\r\n  selector: 'fwf-page-valuations',\r\n  templateUrl: 'valuations.component.html',\r\n})\r\nexport class ValuationsPageComponent implements OnInit {\r\n\r\n    match: Match;\r\n    scores: Score[];\r\n\r\n    constructor(\r\n            public navCtrl: NavController,\r\n            public navParams: NavParams,\r\n            private valuationsService: ValuationsService,\r\n            private messages: MessagesService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.match = this.navParams.get('match');\r\n        this.loadScores();\r\n    }\r\n\r\n    private loadScores(): void {\r\n        this.valuationsService.fetchPlayersScores(this.match.id)\r\n            .subscribe(\r\n                data => {\r\n                    if (!data) {\r\n                        this.createNewScores();\r\n                    } else {\r\n                        this.scores = data.map(item => {\r\n                            return <Score>{\r\n                                namePlayer: item.player.name,\r\n                                idPlayer: item.player.id,\r\n                                score: ((<number>item.totalScore) / (<number>item.numVotes))\r\n                            };\r\n                        });\r\n                        this.scores.sort((a, b) => {\r\n                            if (a.score > b.score) {\r\n                                return -1;\r\n                            } else if (a.score < b.score) {\r\n                                return 1;\r\n                            } else {\r\n                                return 0;\r\n                            }\r\n                        });\r\n                    }\r\n                },\r\n                error => this.messages.showError(error)\r\n            );\r\n    }\r\n\r\n    private createNewScores(): void {\r\n        this.scores = [];\r\n        this.match.callUp.forEach(item => {\r\n            let score: Score = {\r\n                namePlayer: item.player.name,\r\n                idPlayer: item.player.id\r\n            };\r\n            this.scores.push(score);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/valuations/valuations.component.ts"],"sourceRoot":""}